//"Universidad Estatal Amazonica"
//Clase: Estructura de Datos D
//Nombre: Amir Puente
//Fecha de entrega: 24/08/2025
//Tema: Ejercicios Semana 10
//Lenguaje: Java

import java.util.*;

public class CampaniaVacunacion {

    public static void main(String[] args) {
        //personas
        Set<Ciudadano> ciudadanos = generarCiudadanos(500);
        //pfizer
        Set<Ciudadano> pfizer = seleccionarAleatorios(ciudadanos, 75);
        //astraZeneca
        Set<Ciudadano> astraZeneca = seleccionarAleatorios(ciudadanos, 75);
        //pfizer y astrazeneca
        Set<Ciudadano> vacunados = new HashSet<>(pfizer);
        vacunados.addAll(astraZeneca);

        //no vacunados
        Set<Ciudadano> noVacunados = new HashSet<>(ciudadanos);
        noVacunados.removeAll(vacunados);

        //pfizer y astrazeneca
        Set<Ciudadano> ambasDosis = new HashSet<>(pfizer);
        ambasDosis.retainAll(astraZeneca);

        //solo pfizer
        Set<Ciudadano> soloPfizer = new HashSet<>(pfizer);
        soloPfizer.removeAll(astraZeneca);

        //solo astrazeneca
        Set<Ciudadano> soloAstraZeneca = new HashSet<>(astraZeneca);
        soloAstraZeneca.removeAll(pfizer);

        System.out.println("=== RESULTADOS DE LA SUPER CAMPAÑA DE VACUNACIÓN ===\n");
        System.out.println("Ciudadanos que NO se han vacunado: " + noVacunados.size());
        imprimirLista(noVacunados);

        System.out.println("\nCiudadanos que han recibido AMBAS dosis (Pfizer y AstraZeneca): " + ambasDosis.size());
        imprimirLista(ambasDosis);

        System.out.println("\nCiudadanos que solo recibieron la vacuna de Pfizer: " + soloPfizer.size());
        imprimirLista(soloPfizer);

        System.out.println("\nCiudadanos que solo recibieron la vacuna de AstraZeneca: " + soloAstraZeneca.size());
        imprimirLista(soloAstraZeneca);
    }

    //crear personas
    public static Set<Ciudadano> generarCiudadanos(int cantidad) {
        Set<Ciudadano> ciudadanos = new HashSet<>();
        for (int i = 1; i <= cantidad; i++) {
            ciudadanos.add(new Ciudadano(i, "Ciudadano_" + i));
        }
        return ciudadanos;
    }

    //personas aleatorias
    public static Set<Ciudadano> seleccionarAleatorios(Set<Ciudadano> base, int cantidad) {
        List<Ciudadano> lista = new ArrayList<>(base);
        Collections.shuffle(lista);
        return new HashSet<>(lista.subList(0, cantidad));
    }
    public static void imprimirLista(Set<Ciudadano> lista) {
        for (Ciudadano c : lista) {
            System.out.println(c);
        }
    }
}

//clase
class Ciudadano {
    private int id;
    private String nombre;

    public Ciudadano(int id, String nombre) {
        this.id = id;
        this.nombre = nombre;
    }

    public int getId() {
        return id;
    }

    public String getNombre() {
        return nombre;
    }
    //para imprimir bonito
    @Override
    public String toString() {
        return id + " - " + nombre;
    }
    //para que hashSet funcione bien
    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (!(o instanceof Ciudadano)) return false;
        Ciudadano c = (Ciudadano) o;
        return this.id == c.id;
    }

    @Override
    public int hashCode() {
        return Integer.hashCode(id);
    }
}
